import{R as u}from"./react-BdCubYHz.js";import{u as m}from"./use-sync-external-store-VaZ3XG0a.js";const S=t=>{let e;const n=new Set,s=(o,l)=>{const c=typeof o=="function"?o(e):o;if(!Object.is(c,e)){const E=e;e=l??(typeof c!="object"||c===null)?c:Object.assign({},e,c),n.forEach(d=>d(e,E))}},i=()=>e,a={setState:s,getState:i,getInitialState:()=>f,subscribe:o=>(n.add(o),()=>n.delete(o))},f=e=t(s,i,a);return a},y=t=>t?S(t):S,{useSyncExternalStoreWithSelector:I}=m,h=t=>t;function x(t,e=h,n){const s=I(t.subscribe,t.getState,t.getInitialState,e,n);return u.useDebugValue(s),s}const b=(t,e)=>{const n=y(t),s=(i,r=e)=>x(n,i,r);return Object.assign(s,n),s},O=(t,e)=>t?b(t,e):b,j=t=>t;function W(t,e=j){const n=u.useSyncExternalStore(t.subscribe,u.useCallback(()=>e(t.getState()),[t,e]),u.useCallback(()=>e(t.getInitialState()),[t,e]));return u.useDebugValue(n),n}const g=t=>{const e=y(t),n=s=>W(e,s);return Object.assign(n,e),n},k=t=>t?g(t):g;export{k as a,O as c};
